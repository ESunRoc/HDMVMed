% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{theta_calc_parallel}
\alias{theta_calc_parallel}
\title{Sample covariance in parallel}
\usage{
theta_calc_parallel(X, cores = parallel::detectCores() - 1, folds = 5)
}
\arguments{
\item{X}{A numeric matrix.}

\item{cores}{An integer between 1 and \code{parallel::detectCores()} indicating the number of logical cores to use for parallel computation; defaults to one less than the number of cores on the local system.}

\item{folds}{An integer between 1 and \code{nrow(X)} indicating the number of CV folds to use in estimating the nodewise regressions; defaults to 5-fold CV.}
}
\value{
The sparse sample covariance matrix estimated via the nodewise regression of van de Geer et al. (2014).
}
\description{
\code{theta_calc_parallel()} computes the sparse sample covariance matrix, \eqn{\Theta\approx(\boldsymbol{X}^\top\boldsymbol{X})^{-1}}, via nodewise regression. The parallel back-end is implemented via \code{doParallel} and \code{foreach}.
}
\examples{
\dontrun{
## Load the toy data
data(hdmvmed_test_data)

## Assign mediator/confounder/trt matrices
mediators <- hdmvmed_test_data[,7:106]
confounders <- hdmvmed_test_data[,107:111]
trt <- hdmvmed_test_data[,1]

## Calculate Theta
theta_calc_parallel(X = cbind(mediators, confounders, trt), cores = 4, folds = 5)
}

}
\references{
{
van de Geer, S., BÃ¼hlmann, P., Ritov, Y., and Dezeure, R. (2014). On Asymptotically Optimal Confidence Regions
and Tests for High-Dimensional Models. \emph{The Annals of Statistics}, \bold{72}(3), 1166-1202.
}

{
Sun, E., Xiao, J., and Wu, T. T. (2025). Causal Mediation Analysis for Multiple
Outcomes and High-dimensional Mediators: Identification, Inference, and Application.
\emph{Biometrics}. \emph{Under Review.}
}
}
